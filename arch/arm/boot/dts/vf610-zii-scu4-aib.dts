/*
 * Copyright 2013 Freescale Semiconductor, Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 */

/dts-v1/;
#include "vf610.dtsi"


/ {
	model = "ZII VF610 SCU4 AIB, Rev D";
	compatible = "zii,vf610dev-b", "zii,vf610dev", "fsl,vf610";

	chosen {
		bootargs = "console=ttyLP0,115200n8";
		stdout-path = &uart0;
	};

	memory {
		reg = <0x80000000 0x20000000>;
	};

	gpio-leds {
		compatible = "gpio-leds";
		pinctrl-0 = <&pinctrl_leds_debug>;
		pinctrl-names = "default";

		debug_1 {
			label = "zii:green:debug1";
			/* gpios = <&gpio2 18 GPIO_ACTIVE_HIGH>;  */
			gpios = <&gpio3 0 GPIO_ACTIVE_HIGH>;
			linux,default-trigger = "heartbeat";
		};
	};

	mdio-mux {
		compatible = "mdio-mux-gpio";
		pinctrl-0 = <&pinctrl_mdio_mux>;
		pinctrl-names = "default";
		gpios = <&gpio4 4  GPIO_ACTIVE_HIGH
			 &gpio4 5  GPIO_ACTIVE_HIGH
			 &gpio3 30 GPIO_ACTIVE_HIGH
			 &gpio3 31 GPIO_ACTIVE_HIGH>;
		mdio-parent-bus = <&mdio1>;
		#address-cells = <1>;
		#size-cells = <0>;

		mdio_mux_1: mdio@1 {
			reg = <1>;
			#address-cells = <1>;
			#size-cells = <0>;

			switch0: switch0@0 {
				compatible = "marvell,mv88e6190";
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <0>;
				dsa,member = <0 0>;
				eeprom-length = <65536>;

				ports {
					#address-cells = <1>;
					#size-cells = <0>;

					port@0 {
						reg = <0>;
						label = "cpu";
						ethernet = <&fec1>;
						fixed-link {
							speed = <100>;
							full-duplex;
						};
					};

					port@1 {
						reg = <1>;
						label = "aib2main_1";
						phy-handle = <&switch0phy1>;
					};

					port@2 {
						reg = <2>;
						label = "aib2main_2";
						phy-handle = <&switch0phy2>;
					};

					port@3 {
						reg = <3>;
						label = "eth_cu_1000_5";
						phy-handle = <&switch0phy3>;
					};

					port@4 {
						reg = <4>;
						label = "eth_cu_1000_6";
						phy-handle = <&switch0phy4>;
					};

					port@5 {
						reg = <5>;
						label = "eth_cu_1000_4";
						phy-handle = <&switch0phy5>;
					};

					port@6 {
						reg = <6>;
						label = "eth_cu_1000_7";
						phy-handle = <&switch0phy6>;
					};

					port@7 {
						reg = <7>;
						label = "modem_pic";
						fixed-link {
							speed = <100>;
							full-duplex;
						};
					};

					switch0port10: port@10 {
						reg = <10>;
						label = "dsa";
						phy-mode = "xgmii";
						link = <&switch1port10
							&switch3port10
							&switch2port10>;
					};
				};

				mdio {
					#address-cells = <1>;
					#size-cells = <0>;

					switch0phy1: switch0phy1@1 {
						reg = <1>;
					};

					switch0phy2: switch0phy2@2 {
						reg = <2>;
					};

					switch0phy3: switch0phy3@3 {
						reg = <3>;
					};

					switch0phy4: switch0phy4@4 {
						reg = <4>;
					};

					switch0phy5: switch0phy5@5 {
						reg = <5>;
					};

					switch0phy6: switch0phy6@6 {
						reg = <6>;
					};
				};
			};
		};

		mdio_mux_2: mdio@2 {
			reg = <2>;
			#address-cells = <1>;
			#size-cells = <0>;

			switch1: switch1@0 {
				compatible = "marvell,mv88e6190";
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <0>;
				dsa,member = <0 1>;
				eeprom-length = <65536>;

				ports {
					#address-cells = <1>;
					#size-cells = <0>;

					port@1 {
						reg = <1>;
						label = "eth_cu_1000_3";
					};

					port@2 {
						reg = <2>;
						label = "eth_cu_100_2";
					};

					port@3 {
						reg = <3>;
						label = "eth_cu_100_3";
					};

					switch1port9: port@9 {
						reg = <9>;
						label = "dsa";
						phy-mode = "xgmii";
						link = <&switch3port10
								&switch2port10>;
					};

					switch1port10: port@10 {
						reg = <10>;
						label = "dsa";
						phy-mode = "xgmii";
						link = <&switch0port10>;
					};
				};
			};
		};

		mdio_mux_4: mdio@4 {
			reg = <4>;
			#address-cells = <1>;
			#size-cells = <0>;

			switch2: switch2@0 {
				compatible = "marvell,mv88e6190";
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <0>;
				dsa,member = <0 2>;
				eeprom-length = <65536>;

				ports {
					#address-cells = <1>;
					#size-cells = <0>;

					port@1 {
						reg = <1>;
						label = "internal_j9";
					};

					port@2 {
						reg = <2>;
						label = "eth_fc_1000_2";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff1>;
					};

					port@3 {
						reg = <3>;
						label = "eth_fc_1000_3";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff2>;
					};

					port@4 {
						reg = <4>;
						label = "eth_fc_1000_4";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff3>;
					};

					port@5 {
						reg = <5>;
						label = "eth_fc_1000_5";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff4>;
					};

					port@6 {
						reg = <6>;
						label = "eth_fc_1000_6";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff5>;
					};

					port@7 {
						reg = <7>;
						label = "eth_fc_1000_7";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff6>;
					};

					port@9 {
						reg = <9>;
						label = "eth_fc_1000_1";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff0>;
					};

					switch2port10: port@10 {
						reg = <10>;
						label = "dsa";
						phy-mode = "2500base-x";
						link = <&switch3port9
							&switch1port9
							&switch0port10>;
					};
				};
			};
		};

		mdio_mux_8: mdio@8 {
			reg = <8>;
			#address-cells = <1>;
			#size-cells = <0>;

			switch3: switch3@0 {
				compatible = "marvell,mv88e6190";
				#address-cells = <1>;
				#size-cells = <0>;
				reg = <0>;
				dsa,member = <0 3>;
				eeprom-length = <65536>;

				ports {
					#address-cells = <1>;
					#size-cells = <0>;

					port@1 {
						reg = <1>;
						label = "internal_j8";
					};

					port@2 {
						reg = <2>;
						label = "eth_fc_1000_8";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff7>;
					};

					port@3 {
						reg = <3>;
						label = "eth_fc_1000_9";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff8>;
					};

					port@4 {
						reg = <4>;
						label = "eth_fc_1000_10";
						phy-mode = "sgmii";
						managed = "in-band-status";
						sfp = <&sff9>;
					};

					switch3port9: port@9 {
						reg = <9>;
						label = "dsa";
						phy-mode = "2500base-x";
						link = <&switch2port10>;
					};

					switch3port10: port@10 {
						reg = <10>;
						label = "dsa";
						phy-mode = "xgmii";
						link = <&switch1port9
							&switch0port10>;
					};
				};
			};
		};
	};

	sff0: sff0 {
		compatible = "sff,sff";
		i2c-bus = <&sff0_i2c>;
		los-gpios = <&gpio9 0 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 0 GPIO_ACTIVE_HIGH>;
	};

	sff1: sff1 {
		compatible = "sff,sff";
		i2c-bus = <&sff1_i2c>;
		los-gpios = <&gpio9 1 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 1 GPIO_ACTIVE_HIGH>;
	};

	sff2: sff2 {
		compatible = "sff,sff";
		i2c-bus = <&sff2_i2c>;
		los-gpios = <&gpio9 2 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 2 GPIO_ACTIVE_HIGH>;
	};

	sff3: sff3 {
		compatible = "sff,sff";
		i2c-bus = <&sff3_i2c>;
		los-gpios = <&gpio9 3 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 3 GPIO_ACTIVE_HIGH>;
	};

	sff4: sff4 {
		compatible = "sff,sff";
		i2c-bus = <&sff4_i2c>;
		los-gpios = <&gpio9 4 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 4 GPIO_ACTIVE_HIGH>;
	};

	sff5: sff5 {
		compatible = "sff,sff";
		i2c-bus = <&sff5_i2c>;
		los-gpios = <&gpio9 5 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 5 GPIO_ACTIVE_HIGH>;
	};

	sff6: sff6 {
		compatible = "sff,sff";
		i2c-bus = <&sff6_i2c>;
		los-gpios = <&gpio9 6 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 6 GPIO_ACTIVE_HIGH>;
	};

	sff7: sff7 {
		compatible = "sff,sff";
		i2c-bus = <&sff7_i2c>;
		los-gpios = <&gpio9 7 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 7 GPIO_ACTIVE_HIGH>;
	};

	sff8: sff8 {
		compatible = "sff,sff";
		i2c-bus = <&sff8_i2c>;
		los-gpios = <&gpio9 8 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 8 GPIO_ACTIVE_HIGH>;
	};

	sff9: sff9 {
		compatible = "sff,sff";
		i2c-bus = <&sff9_i2c>;
		los-gpios = <&gpio9 9 GPIO_ACTIVE_HIGH>;
		tx-disable-gpios = <&gpio7 9 GPIO_ACTIVE_HIGH>;
	};

	regulators {
		compatible = "simple-bus";
		#address-cells = <1>;
		#size-cells = <0>;

		reg_vcc_3v3_mcu: regulator@1 {
			compatible = "regulator-fixed";
			reg = <1>;
			regulator-name = "vcc_3v3_mcu";
			regulator-min-microvolt = <3300000>;
			regulator-max-microvolt = <3300000>;
		};
	};

	spi2 {
		compatible = "spi-gpio";
		pinctrl-0 = <&pinctrl_dspi2>;
		pinctrl-names = "default";
		#address-cells = <1>;
		#size-cells = <0>;

		gpio-sck  = <&gpio2 3 GPIO_ACTIVE_HIGH>;
		gpio-mosi = <&gpio2 2 GPIO_ACTIVE_HIGH>;
		gpio-miso = <&gpio2 1 GPIO_ACTIVE_HIGH>;
		cs-gpios  = <&gpio2 0 GPIO_ACTIVE_HIGH>;
		num-chipselects = <1>;

		at93c46d@0 {
			compatible = "atmel,at93c46d";
			#address-cells = <0>;
			#size-cells = <0>;
			reg = <0>;
			spi-max-frequency = <500000>;
			spi-cs-high;
			data-size = <16>;
			select-gpios = <&gpio2 4 GPIO_ACTIVE_HIGH>;
		};
	};

	discrete_outputs {
		compatible = "gpio-of-helper";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_discrete_out>;
		status = "okay";

		discrete_out_1 {
			gpio-name = "discrete_out_1";
			gpio = <&gpio3 11 GPIO_ACTIVE_HIGH>;
			output;
			init-low;
		};

		discrete_out_2 {
			gpio-name = "discrete_out_2";
			gpio = <&gpio3 12 GPIO_ACTIVE_HIGH>;
			output;
			init-low;
		};

		discrete_out_3 {
			gpio-name = "discrete_out_3";
			gpio = <&gpio3 13 GPIO_ACTIVE_HIGH>;
			output;
			init-low;
		};

		discrete_out_4 {
			gpio-name = "discrete_out_4";
			gpio = <&gpio3 14 GPIO_ACTIVE_HIGH>;
			output;
			init-low;
		};

		discrete_out_5 {
			gpio-name = "discrete_out_5";
			gpio = <&gpio3 15 GPIO_ACTIVE_HIGH>;
			output;
			init-low;
		};
	};

	failover {
		compatible = "gpio-of-helper";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_gpio_sys_failover>;
		status = "okay";

		primary_scu {
			gpio-name = "primary_scu_b";
			gpio = <&gpio2 6 GPIO_ACTIVE_HIGH>;
			input;
		};

		scu_disable {
			gpio-name = "scu_disable_b";
			gpio = <&gpio2 5 GPIO_ACTIVE_HIGH>;
			input;
		};

		scu_active_out {
			gpio-name = "scu_active_out";
			gpio = <&gpio3 22 GPIO_ACTIVE_HIGH>;
			output;
			init-low;
		};
	};

	acloss {
		compatible = "gpio-of-helper";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_gpio_acloss>;
		status = "okay";

		primary_scu {
			gpio-name = "ac_loss_detect";
			gpio = <&gpio3 23 GPIO_ACTIVE_HIGH>;
			input;
		};
	};

	rev_assembly {
		compatible = "gpio-of-helper";
		pinctrl-names = "default";
		status = "okay";

		copper_rev_0 {
			gpio-name = "copper_rev_0";
			gpio = <&gpio6 0 GPIO_ACTIVE_HIGH>;
			input;
		};

		copper_rev_1 {
			gpio-name = "copper_rev_1";
			gpio = <&gpio6 1 GPIO_ACTIVE_HIGH>;
			input;
		};

		copper_rev_2 {
			gpio-name = "copper_rev_2";
			gpio = <&gpio6 2 GPIO_ACTIVE_HIGH>;
			input;
		};

		copper_rev_3 {
			gpio-name = "copper_rev_3";
			gpio = <&gpio6 3 GPIO_ACTIVE_HIGH>;
			input;
		};

		copper_rev_4 {
			gpio-name = "copper_rev_4";
			gpio = <&gpio6 4 GPIO_ACTIVE_HIGH>;
			input;
		};

		assembly_0 {
			gpio-name = "assembly_0";
			gpio = <&gpio6 5 GPIO_ACTIVE_HIGH>;
			input;
		};

		assembly_1 {
			gpio-name = "assembly_1";
			gpio = <&gpio6 6 GPIO_ACTIVE_HIGH>;
			input;
		};

		assembly_2 {
			gpio-name = "assembly_2";
			gpio = <&gpio6 7 GPIO_ACTIVE_HIGH>;
			input;
		};
	};

	zii_vf6xx_plat {
		compatible = "zii,zii_vf6xx_platform";
		platform_id-gpios = <&gpio2 11 GPIO_ACTIVE_HIGH
							&gpio2 12 GPIO_ACTIVE_HIGH
							&gpio2 13 GPIO_ACTIVE_HIGH
							&gpio2 14 GPIO_ACTIVE_HIGH>;
	};
};

&dspi0 {
	pinctrl-0 = <&pinctrl_dspi0>;
	pinctrl-names = "default";
	status = "okay";
	bus-num = <0>;

	hi3593@0 {
		compatible = "holtic,hi3593";
		pinctrl-0 = <&pinctrl_gpio_hi3593_1>;
		pinctrl-names = "default";
		reg = <0>;
		spi-max-frequency = <10000000>;

		master_reset-gpio = <&gpio5 0 GPIO_ACTIVE_HIGH>;
		rx1-chan {
			label = "arinc429rx1";
			int-gpio = <&gpio0 30 GPIO_ACTIVE_HIGH>;
			flag-gpio = <&gpio0 31 GPIO_ACTIVE_HIGH>;
		};
		rx2-chan {
			label = "arinc429rx2";
			int-gpio = <&gpio0 28 GPIO_ACTIVE_HIGH>;
			flag-gpio = <&gpio0 29 GPIO_ACTIVE_HIGH>;
		};
		tx-chan {
			label = "arinc429tx1";
			full-gpio = <&gpio0 27 GPIO_ACTIVE_HIGH>;
			empty-gpio = <&gpio0 26 GPIO_ACTIVE_HIGH>;
		};
	};

	hi3593@1 {
		compatible = "holtic,hi3593";
		pinctrl-0 = <&pinctrl_gpio_hi3593_2>;
		pinctrl-names = "default";
		reg = <1>;
		spi-max-frequency = <10000000>;

		master_reset-gpio = <&gpio5 1 GPIO_ACTIVE_HIGH>;
		rx1-chan {
			label = "arinc429rx3";
			int-gpio = <&gpio0 9 GPIO_ACTIVE_HIGH>;
			flag-gpio = <&gpio0 10 GPIO_ACTIVE_HIGH>;
		};
		rx2-chan {
			label = "arinc429rx4";
			int-gpio = <&gpio0 7 GPIO_ACTIVE_HIGH>;
			flag-gpio = <&gpio0 8 GPIO_ACTIVE_HIGH>;
		};
		tx-chan {
			label = "arinc429tx2";
			full-gpio = <&gpio0 6 GPIO_ACTIVE_HIGH>;
			empty-gpio = <&gpio0 5 GPIO_ACTIVE_HIGH>;
		};
	};

	hi3593@4 {
		compatible = "holtic,hi3593";
		pinctrl-0 = <&pinctrl_gpio_hi3593_3>;
		pinctrl-names = "default";
		reg = <4>;
		spi-max-frequency = <10000000>;

		master_reset-gpio = <&gpio5 2 GPIO_ACTIVE_HIGH>;
		rx1-chan {
			label = "arinc429rx5";
			int-gpio = <&gpio0 24 GPIO_ACTIVE_HIGH>;
			flag-gpio = <&gpio0 25 GPIO_ACTIVE_HIGH>;
		};
		rx2-chan {
			label = "arinc429rx6";
			int-gpio = <&gpio0 22 GPIO_ACTIVE_HIGH>;
			flag-gpio = <&gpio0 23 GPIO_ACTIVE_HIGH>;
		};
		tx-chan {
			label = "arinc429tx3";
			full-gpio = <&gpio0 21 GPIO_ACTIVE_HIGH>;
			empty-gpio = <&gpio0 20 GPIO_ACTIVE_HIGH>;
		};
	};

	hi8435@5 {
		compatible = "holt,hi8435";
		reg = <5>;
		gpios = <&gpio5 3 GPIO_ACTIVE_HIGH>;

		spi-max-frequency = <1000000>;
	};

};

&dspi1 {
	bus-num = <1>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_dspi1>;
	status = "okay";

	m25p128@0 {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "m25p128", "jedec,spi-nor";
		reg = <0>;
		spi-max-frequency = <50000000>;

		partition@0 {
			label = "m25p128-0";
			reg = <0x0 0x01000000>;
		};
	};

	m25p128@1 {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "m25p128", "jedec,spi-nor";
		reg = <1>;
		spi-max-frequency = <50000000>;

		partition@0 {
			label = "m25p128-1";
			reg = <0x0 0x01000000>;
		};
	};
};

&edma0 {
	status = "okay";
};

&esdhc0 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_esdhc0>;
	bus-width = <8>;
	status = "okay";
};

&esdhc1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_esdhc1>;
	bus-width = <4>;
	status = "okay";
};

&fec1 {
	phy-mode = "rmii";
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_fec1>;
	status = "okay";

	fixed-link {
		   speed = <100>;
		   full-duplex;
	};

	mdio1: mdio {
		#address-cells = <1>;
		#size-cells = <0>;
		status = "okay";
	};
};

&i2c0 {
	clock-frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c0>;
	status = "okay";

	/* Reset Signals */
	gpio5: pca9505@20 {
		compatible = "nxp,pca9554";
		reg = <0x20>;
		gpio-controller;
		#gpio-cells = <2>;
	};

	/* Board Revision */
	gpio6: pca9505@22 {
		compatible = "nxp,pca9554";
		reg = <0x22>;
		gpio-controller;
		#gpio-cells = <2>;
	};

	lm75@48 {
		compatible = "national,lm75";
		reg = <0x48>;
	};

	/* AIB Nameplate */
	at24c04@50 {
		compatible = "atmel,24c04";
		reg = <0x50>;
	};

	/* AIB NVM */
	at24c04@52 {
		compatible = "atmel,24c04";
		reg = <0x52>;
	};

	ds1682@6b {
		compatible = "dallas,ds1682";
		reg = <0x6b>;
	};
};

&i2c1 {
	clock-frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c1>;
	status = "okay";

	/* AIB voltage monitor */
	adt7411@4a {
		compatible = "adi,adt7411";
		reg = <0x4a>;
	};
};

&i2c2 {
	clock-frequency = <100000>;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_i2c2>;
	status = "okay";

	/*
	 * U29
	 *
	 * Exposed signals:
	 *    I/O0  - SIG_DET_P1
	 *    I/O1  - SIG_DET_P2
	 *    I/O2  - SIG_DET_P3
	 *    I/O3  - SIG_DET_P4
	 *    I/O4  - SIG_DET_P5
	 *    I/O5  - SIG_DET_P6
	 *    I/O6  - SIG_DET_P7
	 *    I/O7  - SIG_DET_P8
	 *    I/O8  - SIG_DET_P9
	 *    I/O9  - SIG_DET_P10
	 *    I/O10 - SWB_PROG_MUX_SEL
	 *    I/O11 - SWA_PROG_MUX_SEL
	 *    I/O12 - PROG_SWA_CS
	 *    I/O13 - PROG_SWB_CS
	 */
	gpio9: sx1503@20 {
		compatible = "semtech,sx1503q";

		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_sx1503_20>;
		#gpio-cells = <2>;
		reg = <0x20>;
		gpio-controller;
	};

	lm75@4e {
		compatible = "national,lm75";
		reg = <0x4e>;
	};

	lm75@4f {
		compatible = "national,lm75";
		reg = <0x4f>;
	};

	gpio7: pca9555@23 {
		compatible = "nxp,pca9555";
		gpio-controller;
		#gpio-cells = <2>;
		reg = <0x23>;
	};

	/* FIB voltage monitor */
	adt7411@4a {
		compatible = "adi,adt7411";
		reg = <0x4a>;
	};

	/* FIB Nameplate */
	at24c08@54 {
		compatible = "atmel,24c08";
		reg = <0x54>;
	};

	tca9548@70 {
		compatible = "nxp,pca9548";
		pinctrl-names = "default";
		#address-cells = <1>;
		#size-cells = <0>;
		reg = <0x70>;

		sff0_i2c: i2c@1 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <1>;
		};

		sff1_i2c: i2c@2 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <2>;
		};

		sff2_i2c: i2c@3 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <3>;
		};

		sff3_i2c: i2c@4 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <4>;
		};

		sff4_i2c: i2c@5 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <5>;
		};
	};

	tca9548@71 {
		compatible = "nxp,pca9548";
		pinctrl-names = "default";
		reg = <0x71>;
		#address-cells = <1>;
		#size-cells = <0>;

		sff5_i2c: i2c@1 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <1>;
		};

		sff6_i2c: i2c@2 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <2>;
		};

		sff7_i2c: i2c@3 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <3>;
		};

		sff8_i2c: i2c@4 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <4>;
		};

		sff9_i2c: i2c@5 {
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <5>;
		};
	};
};

&iomuxc {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_hog>;

	vf610-zii {
		pinctrl_hog: hoggrp {
			fsl,pins = <
				/* System Type */
				VF610_PAD_PTD16__GPIO_78	0x2061 /*SYS_TYPE_3*/
				VF610_PAD_PTD17__GPIO_77	0x2061 /*SYS_TYPE_2*/
				VF610_PAD_PTD18__GPIO_76	0x2061 /*SYS_TYPE_1*/
				VF610_PAD_PTD19__GPIO_75	0x2061 /*SYS_TYPE_0*/
			>;
		};


		pinctrl_gpio_sys_failover: gpiosysfailovergrp {
			fsl,pins = <
				VF610_PAD_PTD24__GPIO_70		0x2061
				VF610_PAD_PTD25__GPIO_69		0x2061
				VF610_PAD_PTE13__GPIO_118		0x2062
			>;
		};

		pinctrl_discrete_out: discreteoutfrp {
			fsl,pins = <
				VF610_PAD_PTE2__GPIO_107		0x2062
				VF610_PAD_PTE3__GPIO_108		0x2062
				VF610_PAD_PTE4__GPIO_109		0x2062
				VF610_PAD_PTE5__GPIO_110		0x2062
				VF610_PAD_PTE6__GPIO_111		0x2062
			>;
		};

		pinctrl_gpio_acloss: gpioaclossgrp {
			fsl,pins = <
				VF610_PAD_PTE14__GPIO_119		0x2061
			>;
		};


		pinctrl_sx1503_20: pinctrl-sx1503-20 {
			fsl,pins = <
				VF610_PAD_PTD31__GPIO_63		0x219d
				>;
			};

		pinctrl_dspi0: dspi0grp {
			fsl,pins = <
				VF610_PAD_PTB19__DSPI0_CS0		0x1182
				VF610_PAD_PTB18__DSPI0_CS1		0x1182
				VF610_PAD_PTB13__DSPI0_CS4		0x1182
				VF610_PAD_PTB12__DSPI0_CS5		0x1182
				VF610_PAD_PTB20__DSPI0_SIN		0x1181
				VF610_PAD_PTB21__DSPI0_SOUT		0x1182
				VF610_PAD_PTB22__DSPI0_SCK		0x1182
			>;
		};

		pinctrl_dspi1: dspi1grp {
			fsl,pins = <
				VF610_PAD_PTD5__DSPI1_CS0		0x1182
				VF610_PAD_PTD4__DSPI1_CS1		0x1182
				VF610_PAD_PTC6__DSPI1_SIN		0x1181
				VF610_PAD_PTC7__DSPI1_SOUT		0x1182
				VF610_PAD_PTC8__DSPI1_SCK		0x1182
			>;
		};

		pinctrl_dspi2: dspi2gpio {
			fsl,pins = <
				/* VF610_PAD_PTD31__GPIO_63		0x33e2 */
				VF610_PAD_PTD30__GPIO_64		0x33e2
				VF610_PAD_PTD29__GPIO_65		0x33e1
				VF610_PAD_PTD28__GPIO_66		0x33e2
				VF610_PAD_PTD27__GPIO_67		0x33e2
				VF610_PAD_PTD26__GPIO_68		0x31c2
			>;
		};

		pinctrl_esdhc0: esdhc0grp {
			fsl,pins = <
				VF610_PAD_PTC0__ESDHC0_CLK	 0x31ef
				VF610_PAD_PTC1__ESDHC0_CMD	 0x31ef
				VF610_PAD_PTC2__ESDHC0_DAT0	 0x31ef
				VF610_PAD_PTC3__ESDHC0_DAT1	 0x31ef
				VF610_PAD_PTC4__ESDHC0_DAT2	 0x31ef
				VF610_PAD_PTC5__ESDHC0_DAT3	 0x31ef
				VF610_PAD_PTD23__ESDHC0_DAT4 0x31ef
				VF610_PAD_PTD22__ESDHC0_DAT5 0x31ef
				VF610_PAD_PTD21__ESDHC0_DAT6 0x31ef
				VF610_PAD_PTD20__ESDHC0_DAT7 0x31ef
			>;
		};

		pinctrl_esdhc1: esdhc1grp {
			fsl,pins = <
				VF610_PAD_PTA24__ESDHC1_CLK	0x31ef
				VF610_PAD_PTA25__ESDHC1_CMD	0x31ef
				VF610_PAD_PTA26__ESDHC1_DAT0	0x31ef
				VF610_PAD_PTA27__ESDHC1_DAT1	0x31ef
				VF610_PAD_PTA28__ESDHC1_DATA2	0x31ef
				VF610_PAD_PTA29__ESDHC1_DAT3	0x31ef
			>;
		};

		pinctrl_fec1: fec1grp {
			fsl,pins = <
				VF610_PAD_PTA6__RMII_CLKIN		0x30d1
				VF610_PAD_PTC9__ENET_RMII1_MDC		0x30d2
				VF610_PAD_PTC10__ENET_RMII1_MDIO	0x30d3
				VF610_PAD_PTC11__ENET_RMII1_CRS		0x30d1
				VF610_PAD_PTC12__ENET_RMII1_RXD1	0x30d1
				VF610_PAD_PTC13__ENET_RMII1_RXD0	0x30d1
				VF610_PAD_PTC14__ENET_RMII1_RXER	0x30d1
				VF610_PAD_PTC15__ENET_RMII1_TXD1	0x30d2
				VF610_PAD_PTC16__ENET_RMII1_TXD0	0x30d2
				VF610_PAD_PTC17__ENET_RMII1_TXEN	0x30d2
			>;
		};

		pinctrl_gpio_hi3593_1: pinctrl-gpio-hi3593-1 {
			fsl,pins = <
				VF610_PAD_PTB4__GPIO_26			0x33e1
				VF610_PAD_PTB5__GPIO_27			0x33e1
				VF610_PAD_PTB6__GPIO_28			0x33e1
				VF610_PAD_PTB7__GPIO_29			0x33e1
				VF610_PAD_PTB8__GPIO_30			0x33e1
				VF610_PAD_PTB9__GPIO_31			0x33e1
			>;
		};

		pinctrl_gpio_hi3593_2: pinctrl-gpio-hi3593-2 {
			fsl,pins = <
				VF610_PAD_PTA12__GPIO_5			0x33e1
				VF610_PAD_PTA16__GPIO_6			0x33e1
				VF610_PAD_PTA17__GPIO_7			0x33e1
				VF610_PAD_PTA18__GPIO_8			0x33e1
				VF610_PAD_PTA19__GPIO_9			0x33e1
				VF610_PAD_PTA20__GPIO_10		0x33e1
			>;
		};

		pinctrl_gpio_hi3593_3: pinctrl-gpio-hi3593-3 {
			fsl,pins = <
				VF610_PAD_PTA30__GPIO_20		0x33e1
				VF610_PAD_PTA31__GPIO_21		0x33e1
				VF610_PAD_PTB0__GPIO_22			0x33e1
				VF610_PAD_PTB1__GPIO_23			0x33e1
				VF610_PAD_PTB2__GPIO_24			0x33e1
				VF610_PAD_PTB3__GPIO_25			0x33e1
			>;
		};

		/* -------------------------------------------------------------
		 * speed:		  high (200 MHz)
		 * slew rate:		  slow
		 * open drain:		  enabled
		 * hysteresis:		  Schmitt trigger
		 * drive strength:	  20 Ohm
		 * pull strength:	  22 kOhm pull-up
		 * pull / keeper:	  enabled
		 * pull / keeper select:  pull
		 * output buffer:	  enabled
		 * input buffer:	  enabled
		 */
		pinctrl_i2c0: i2c0grp {
			fsl,pins = <
				VF610_PAD_PTB14__I2C0_SCL		0x37ff
				VF610_PAD_PTB15__I2C0_SDA		0x37ff
			>;
		};

		pinctrl_i2c1: i2c1grp {
			fsl,pins = <
				VF610_PAD_PTB16__I2C1_SCL		0x37ff
				VF610_PAD_PTB17__I2C1_SDA		0x37ff
			>;
		};

		pinctrl_i2c2: i2c2grp {
			fsl,pins = <
				VF610_PAD_PTA22__I2C2_SCL		0x37ff
				VF610_PAD_PTA23__I2C2_SDA		0x37ff
			>;
		};

		pinctrl_i2c3: i2c3grp {
			fsl,pins = <
				VF610_PAD_PTA30__I2C3_SCL		0x37ff
				VF610_PAD_PTA31__I2C3_SDA		0x37ff
			>;
		};

		pinctrl_uart0: uart0grp {
			fsl,pins = <
				VF610_PAD_PTB10__UART0_TX		0x21a2
				VF610_PAD_PTB11__UART0_RX		0x21a1
			>;
		};

		pinctrl_uart1: uart1grp {
			fsl,pins = <
				VF610_PAD_PTB23__UART1_TX		0x21a2
				VF610_PAD_PTB24__UART1_RX		0x21a1
				VF610_PAD_PTB25__UART1_RTS		0x21a2
			>;
		};

		pinctrl_uart2: uart2grp {
			fsl,pins = <
				VF610_PAD_PTD0__UART2_TX		0x21a2
				VF610_PAD_PTD1__UART2_RX		0x21a1
				VF610_PAD_PTD2__UART2_RTS		0x21a2
			>;
		};

		pinctrl_qspi0: qspi0grp {
			fsl,pins = <
				VF610_PAD_PTD7__QSPI0_B_QSCK		0x31c3
				VF610_PAD_PTD8__QSPI0_B_CS0			0x31ff
				VF610_PAD_PTD9__QSPI0_B_DATA3		0x31c3
				VF610_PAD_PTD10__QSPI0_B_DATA2		0x31c3
				VF610_PAD_PTD11__QSPI0_B_DATA1		0x31c3
				VF610_PAD_PTD12__QSPI0_B_DATA0		0x31c3
			>;
		};

		pinctrl_leds_debug: pinctrl-leds-debug {
			fsl,pins = <
				 VF610_PAD_PTB26__GPIO_96		0x31c2
			   >;
		};

		pinctrl_mdio_mux: pinctrl-mdio-mux {
			fsl,pins = <
				VF610_PAD_PTE27__GPIO_132	0x31c2
				VF610_PAD_PTE28__GPIO_133	0x31c2
				VF610_PAD_PTE21__GPIO_126	0x31c2
				VF610_PAD_PTE22__GPIO_127	0x31c2
			>;
		};
	};
};

&L2 {
	arm,data-latency = <2 1 2>;
	arm,tag-latency = <3 2 3>;
};

&uart0 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart0>;
	status = "okay";
};

&uart1 {
	linux,rs485-enabled-at-boot-time;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart1>;
	rs485-rts-delay = <0 200>;
	status = "okay";
};

&uart2 {
	linux,rs485-enabled-at-boot-time;
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart2>;
	rs485-rts-delay = <0 200>;
	status = "okay";
};

&qspi0 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_qspi0>;
	fsl,nor-size = <0x10000000>;
	fsl,spi-num-chipselects = <2>;
	status = "okay";
	/* status = "disabled";   */

	flash0: mt25ql02gc@0 {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "micron,mt25ql02gc";
		spi-max-frequency = <66000000>;
		reg = <0>;

		partition@0 {
			label = "mt25ql02gc-0-uboot";
			reg = <0x0 0x0100000>;
		};

		partition2@100000 {
			label = "mt25ql02gc-0-dtb";
			reg = <0x0100000 0x0100000>;
		};

		partition3@200000 {
			label = "mt25ql02gc-0-kernel";
			reg = <0x0200000 0x0500000>;
		};

		partition4@700000 {
			label = "mt25ql02gc-0-rfs";
			reg = <0x0600000 0x8000000>;
		};
	};
};
